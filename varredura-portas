#OBS: Código sem implementação

import socket


def is_port_open(host: str, port: int, timeout: float = 1.0) -> bool:
    try:
        # create_connection tries to connect and returns a socket if successful
        with socket.create_connection((host, port), timeout=timeout):
            return True
    except (ConnectionRefusedError, socket.timeout):
        # port closed or timed out
        return False
    except OSError:
        # other errors (network unreachable, no route, DNS error, etc.)
        return False

def varredura_portas(ip: str, port: int):
    contador = 0
    for i in range(20, 50000):
        if is_port_open("192.168.1.1", i, 0.00000001):
            try:
                print(f"{i} open " + socket.getservbyport(i))
            except:
                 print(f"{i} open Unknown")
        else:
            contador += 1
